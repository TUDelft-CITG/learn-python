

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>6. Pandas &#8212; Python for Civil Engineers</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8FZWSB5TQP"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-8FZWSB5TQP');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '06/Theory/01';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Exercises" href="../Exercises/01.html" />
    <link rel="prev" title="Bug Report Issue Form (optional)" href="../../05/Exercises/bug_report.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>


  <div class="bd-header-announcement container-fluid bd-header-announcement">
    <div class="bd-header-announcement__content">⚠️ This is not the final version of the book! The new version will be ready by July 1.⚠️</div>
  </div>

  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/learn-python-logo-TUD-tight.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/learn-python-logo-TUD-tight.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Python_intro.html">Programming and Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Python_Toolbox.html">Python Toolbox</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Course Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../01/Theory/01.html">1. Variables, operators and functions.</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../01/Exercises/01.html">Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../01/Exercises/bug_report.html">Bug Report Issue Form (optional)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../02/Theory/01.html">2. Modules, conditions, data structures and loops</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../02/Exercises/01.html">Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02/Exercises/bug_report.html">Bug Report Issue Form (optional)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../03/Theory/01.html">3. Advanced strings and functions, files and debugging.</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../03/Exercises/01.html">Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03/Exercises/bug_report.html">Bug Report Issue Form (optional)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../04/Theory/01.html">4. Objects and References</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../04/Exercises/01.html">Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../04/Exercises/bug_report.html">Bug Report Issue Form (optional)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../05/Theory/01.html">5. Numpy</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../05/Exercises/01.html">Airplane velocity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../05/Exercises/02.html">Maximum bending moment on a simply supported bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../05/Exercises/bug_report.html">Bug Report Issue Form (optional)</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">6. Pandas</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Exercises/01.html">Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Exercises/bug_report.html">Bug Report Issue Form (optional)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../07/Theory/01.html">7. Matplotlib</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../07/Exercises/01.html">Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../07/Exercises/bug_report.html">Bug Report Issue Form (optional)</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">End of course survey</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../End-of-course-survey.html">End of course survey</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">In a Nutshell</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../01/In_a_Nutshell/01.html">1. Variables, operators and functions.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../02/In_a_Nutshell/01.html">2. Modules, conditions, data structures and loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../03/In_a_Nutshell/01.html">3. Advanced strings and functions, files and debugging.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../04/In_a_Nutshell/01.html">4. Objects and References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../05/In_a_Nutshell/01.html">5. Numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../In_a_Nutshell/01.html">6. Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../07/In_a_Nutshell/01.html">7. Matplotlib</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/TUDelft-CITG/learn-python/main?urlpath=tree/book/06/Theory/01.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/TUDelft-CITG/learn-python/blob/main/book/06/Theory/01.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/06/Theory/01.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>6. Pandas</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">6.1 Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#series">6.2 <code class="docutils literal notranslate"><span class="pre">Series</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#labeling-series">Labeling <code class="docutils literal notranslate"><span class="pre">Series</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dataframe">6.3 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#labeling-dataframes">Labeling <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#concatenating-dataframes">Concatenating <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#removing-rows-and-columns">Removing rows and columns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-and-modifying-code-dataframe-code-values">Accessing and modifying <code>DataFrame</code> values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#code-iat-code-vs-code-at-code-vs-code-iloc-code-vs-code-loc-code"><code>.iat()</code> vs <code>.at()</code> vs <code>.iloc()</code> vs <code>.loc()</code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importing-data-into-code-dataframes-code-and-exploring-its-attributes">6.4 Importing data into <code>DataFrames</code> and exploring its attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#statistics-with-code-pandas-code">6.5 Statistics with <code>pandas</code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deep-copying-a-code-dataframe-code">Deep copying a <code>DataFrame</code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-study-material">Additional study material:</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="pandas">
<h1>6. Pandas<a class="headerlink" href="#pandas" title="Permalink to this heading">#</a></h1>
<section id="introduction">
<h2>6.1 Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>With the standard Python functions and the <b><code>numpy</code></b> library, you already have access to powerful tools to process data. However, you’ll find that organizing data using them might still be confusing and messy… so let us introduce you to <b><code>pandas</code></b>: a Python library specialized in data organization. Its functions are simple to use, and they achieve a lot. Furthermore, <b><code>pandas</code></b> was built on top of the <b><code>numpy</code></b> library, using some of their functions and data structures. This makes <b><code>pandas</code></b> fast. The <b><code>pandas</code></b> library is often used in Data Science and Machine Learning to organize data that are used as input in other functions, of other libraries. For example, you store and organize an Excel file using <b><code>pandas</code></b> data structures, apply statistical analysis using <b><code>SciPy</code></b>, and then plot the result using <b><code>matplotlib</code></b>.<br><br> In this section, we’ll introduce you to the basic <b><code>pandas</code></b> data structures: the <b><code>Series</code></b> and <b><code>DataFrame</code></b> objects; and how to store data in them. In <b><code>pandas</code></b>, a <b><code>Series</code></b> represents a list, and <b><code>DataFrame</code></b> represents a table.</p>
<p>As always, let’s import some libraries. We’ll use numpy only for comparison.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="series">
<h2>6.2 <code class="docutils literal notranslate"><span class="pre">Series</span></code><a class="headerlink" href="#series" title="Permalink to this heading">#</a></h2>
<p>We start with <b><code>pandas Series</code></b>, since a <b><code>DataFrame</code></b> is made out of <b><code>Series</code></b>; retrieving a row or a column from a <b><code>DataFrame</code></b> results in a <b><code>Series</code></b>. A <b><code>Series</code></b> object is a <b><code>numpy</code></b> ndarray used to hold one-dimensional data, like a list.  We create a <b><code>Series</code></b> object using its constructor <b><code>pd.Series()</code></b>. It can be called by using a list that you want to convert into a <b><code>pandas series</code></b>. Unlike <b><code>numpy</code></b> arrays, a <b><code>Series</code></b> may hold data of different types.</p>
<p>First we create a list containing elements of various types. Then we construct a <code class="docutils literal notranslate"><span class="pre">Series</span></code> and a <code class="docutils literal notranslate"><span class="pre">numpy.array</span></code> using our list. Finally we compare the type of each element in <code class="docutils literal notranslate"><span class="pre">my_series</span></code> and <code class="docutils literal notranslate"><span class="pre">my_nparray</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;begin&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">]</span>

<span class="n">my_series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">my_list</span><span class="p">)</span>
<span class="n">my_nparray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_list</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----type of each element----&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;my_series element #</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1"> =&gt; </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">my_series</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;my_nparray element #</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1"> =&gt; </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">my_nparray</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>----type of each element----
my_series element #0 =&gt; &lt;class &#39;str&#39;&gt;
my_nparray element #0 =&gt; &lt;class &#39;numpy.str_&#39;&gt;

----type of each element----
my_series element #1 =&gt; &lt;class &#39;int&#39;&gt;
my_nparray element #1 =&gt; &lt;class &#39;numpy.str_&#39;&gt;

----type of each element----
my_series element #2 =&gt; &lt;class &#39;float&#39;&gt;
my_nparray element #2 =&gt; &lt;class &#39;numpy.str_&#39;&gt;

----type of each element----
my_series element #3 =&gt; &lt;class &#39;str&#39;&gt;
my_nparray element #3 =&gt; &lt;class &#39;numpy.str_&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>As expected, the <b><code>numpy</code></b> array changed all elements to one type; in this case, strings. As mentioned in Section 5.1, in Notebook 5, a <b><code>numpy</code></b> array cannot hold data of different types. Note that a pandas series is, by default, printed more elaborately.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">my_series</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-----------------&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_nparray</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    begin
1        2
2     0.75
3      end
dtype: object
-----------------
[&#39;begin&#39; &#39;2&#39; &#39;0.75&#39; &#39;end&#39;]
</pre></div>
</div>
</div>
</div>
<p>The values of a series can be accessed and sliced using the <strong><code class="docutils literal notranslate"><span class="pre">iloc()</span></code></strong> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_series</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1       2
2    0.75
3     end
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_series</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">my_series</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2    0.75
3     end
dtype: object
</pre></div>
</div>
</div>
</div>
<section id="labeling-series">
<h3>Labeling <code class="docutils literal notranslate"><span class="pre">Series</span></code><a class="headerlink" href="#labeling-series" title="Permalink to this heading">#</a></h3>
<p>So far we have referred to values within a list or array using indexing, but that might be confusing. With <b><code>pandas Series</code></b>, you can refer to your values by labeling their indices. Labels allow you to access the values in a more informative way, similar to dictionaries; depicted in Section 2.3, in Notebook 2.</p>
<p>We create the indices of the same size as the list since we want to construct our Series object with and use the index option in the Series constructor. Note that our entries can be called both ways</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_index_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;My first entry&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="s2">&quot;END&quot;</span><span class="p">]</span>
<span class="n">my_labeled_Series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">my_list</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">my_index_labels</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">my_labeled_Series</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">my_labeled_Series</span><span class="p">[</span><span class="s2">&quot;My first entry&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p><code>pandas</code></b> can automatically create labels of indices if we construct a <b><code>Series</code></b> using a dictionary with labeled entries.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a list&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">420</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span><span class="s2">&quot;a float&quot;</span><span class="p">:</span> <span class="mi">380</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> 
                 <span class="s2">&quot;a list of strings&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;first word&quot;</span><span class="p">,</span> <span class="s2">&quot;Second Word&quot;</span><span class="p">,</span> <span class="s2">&quot;3rd w0rd&quot;</span><span class="p">]</span> <span class="p">}</span>
<span class="n">my_Series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">my_dictionary</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_Series</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a list                                         [420, 10]
a float                                       126.666667
a list of strings    [first word, Second Word, 3rd w0rd]
dtype: object
</pre></div>
</div>
</div>
</div>
<p>We can access an element within the list labeled <code class="docutils literal notranslate"><span class="pre">&quot;a</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">strings&quot;</span></code> by using its label followed by the desired index</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_Series</span><span class="p">[</span><span class="s2">&quot;a list of strings&quot;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Second Word&#39;
</pre></div>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using <code>pandas</code>, it’s a good idea to try and avoid <code>for</code> loops or iterative solutions; <code>pandas</code> usually has a faster solution than iterating through its elements.</p>
</div>
</section>
</section>
<section id="dataframe">
<h2>6.3 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code><a class="headerlink" href="#dataframe" title="Permalink to this heading">#</a></h2>
<p>A <b><code>DataFrame</code></b> is a data structure used to represent two-dimensional data. A common example of data organized in two dimensions are tables or two-dimensional arrays.</p>
<p>Usually, <b><code>DataFrames</code></b> are made out of <b><code>Series</code></b>. However, its constructor accepts other types.</p>
<p>First, we define a few series to represent individual rows with data from <a class="reference external" href="https://www.researchgate.net/figure/Selected-physical-properties-of-minerals-common-to-NYC-bedrock_tbl1_228544586">here</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">row_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;Garnet&#39;</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span>   <span class="s1">&#39;Fracture&#39;</span><span class="p">,</span> <span class="mf">3.9</span>  <span class="p">])</span>
<span class="n">row_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;Graphite&#39;</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="s1">&#39;One&#39;</span><span class="p">,</span> <span class="mf">2.3</span> <span class="p">])</span>
<span class="n">row_3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;Kyanite&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span>    <span class="s1">&#39;One&#39;</span><span class="p">,</span> <span class="mf">4.01</span>   <span class="p">])</span>
<span class="n">row_4</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;bad&#39;</span><span class="p">,</span> <span class="s1">&#39;@#$%^&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>By default, the <b><code>DataFrame</code></b> constructor creates rows with the elements of each <b><code>Series</code></b></p>
<p>Create DataFrame using multiple Series as rows. The name “df” is often used as a name for a dataframe object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row_1</span><span class="p">,</span> <span class="n">row_2</span><span class="p">,</span> <span class="n">row_3</span><span class="p">,</span> <span class="n">row_4</span><span class="p">])</span> 
<span class="n">df2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Garnet</td>
      <td>7.0</td>
      <td>Fracture</td>
      <td>3.9</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Graphite</td>
      <td>1.5</td>
      <td>One</td>
      <td>2.3</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Kyanite</td>
      <td>6</td>
      <td>One</td>
      <td>4.01</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>test</td>
      <td>bad</td>
      <td>@#$%^</td>
      <td>False</td>
      <td>asdf</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can also create a <b><code>DataFrame</code></b> using <b><code>Series</code></b> as columns:</p>
<p>Define series representing columns and convert each series to a dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;Amphibole&#39;</span><span class="p">,</span> <span class="s1">&#39;Biotite&#39;</span><span class="p">,</span> <span class="s1">&#39;Calcite&#39;</span><span class="p">,</span> <span class="s1">&#39;Dolomite&#39;</span><span class="p">,</span> <span class="s1">&#39;Feldspars&#39;</span><span class="p">])</span>
<span class="n">hardness</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mf">5.5</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="n">specific_gravity</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mf">2.8</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.72</span><span class="p">,</span> <span class="mf">2.85</span><span class="p">,</span> <span class="mf">2.645</span><span class="p">])</span>
<span class="n">test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="n">j</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mf">11.00000</span><span class="p">])</span>

<span class="n">col_1</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">)</span> 
<span class="n">col_2</span> <span class="o">=</span> <span class="n">hardness</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;hardness&#39;</span><span class="p">)</span>
<span class="n">col_3</span> <span class="o">=</span> <span class="n">specific_gravity</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;sp. gr.&#39;</span><span class="p">)</span>
<span class="n">col_4</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>After creating each column, we can concatenate them together into one <b><code>DataFrame</code></b> table using the <b><code>pd.concat()</code></b> function. There are two axes in a <b><code>DataFrame</code></b>: ‘0’ (or ‘index’) for the rows, and ‘1’ (or ‘columns’) for the columns. We want to concatenate the series along their columns, so use <b><code>axis=1</code></b> (or <b><code>axis=’columns’</code></b>).</p>
<p>Concatenate the series into one dataframe:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">col_1</span><span class="p">,</span> <span class="n">col_2</span><span class="p">,</span> <span class="n">col_3</span><span class="p">,</span> <span class="n">col_4</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>hardness</th>
      <th>sp. gr.</th>
      <th>test</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Amphibole</td>
      <td>5.50</td>
      <td>2.800</td>
      <td>A</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Biotite</td>
      <td>2.75</td>
      <td>3.000</td>
      <td>12j</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Calcite</td>
      <td>3.00</td>
      <td>2.720</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Dolomite</td>
      <td>3.00</td>
      <td>2.850</td>
      <td>9</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Feldspars</td>
      <td>6.00</td>
      <td>2.645</td>
      <td>11.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Alternatively, you could use the <b><code>np.transpose()</code></b> or <code class="docutils literal notranslate"><span class="pre">.T</span></code> function to generate the <b><code>DataFrame</code></b> using a <b><code>Series</code></b> as columns and then label the columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_T</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">name</span><span class="p">,</span><span class="n">hardness</span><span class="p">,</span><span class="n">specific_gravity</span><span class="p">,</span><span class="n">test</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
<span class="n">df_T</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;hardness&#39;</span><span class="p">,</span> <span class="s1">&#39;sp. gr.&#39;</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">]</span>

<span class="n">df_T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>hardness</th>
      <th>sp. gr.</th>
      <th>test</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Amphibole</td>
      <td>5.5</td>
      <td>2.8</td>
      <td>A</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Biotite</td>
      <td>2.75</td>
      <td>3.0</td>
      <td>12j</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Calcite</td>
      <td>3.0</td>
      <td>2.72</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Dolomite</td>
      <td>3.0</td>
      <td>2.85</td>
      <td>9</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Feldspars</td>
      <td>6.0</td>
      <td>2.645</td>
      <td>11.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>To create a new column, simply do:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span><span class="p">[</span><span class="s1">&#39;new_column&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">df1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>hardness</th>
      <th>sp. gr.</th>
      <th>test</th>
      <th>new_column</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Amphibole</td>
      <td>5.50</td>
      <td>2.800</td>
      <td>A</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Biotite</td>
      <td>2.75</td>
      <td>3.000</td>
      <td>12j</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Calcite</td>
      <td>3.00</td>
      <td>2.720</td>
      <td>True</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Dolomite</td>
      <td>3.00</td>
      <td>2.850</td>
      <td>9</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Feldspars</td>
      <td>6.00</td>
      <td>2.645</td>
      <td>11.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="labeling-dataframes">
<h3>Labeling <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code><a class="headerlink" href="#labeling-dataframes" title="Permalink to this heading">#</a></h3>
<p>You can also rename your columns’ and rows’ index names by changing your DataFrame’s <b><code>columns</code></b> and <b><code>index</code></b> attributes, respectively. Recall our <b><code>df2</code></b>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Garnet</td>
      <td>7.0</td>
      <td>Fracture</td>
      <td>3.9</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Graphite</td>
      <td>1.5</td>
      <td>One</td>
      <td>2.3</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Kyanite</td>
      <td>6</td>
      <td>One</td>
      <td>4.01</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>test</td>
      <td>bad</td>
      <td>@#$%^</td>
      <td>False</td>
      <td>asdf</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now let’s rename its columns’ and rows’ index names.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;hardness&#39;</span><span class="p">,</span>  <span class="s1">&#39;cleavage&#39;</span><span class="p">,</span> <span class="s1">&#39;sp. gr.&#39;</span><span class="p">,</span><span class="s1">&#39;test&#39;</span><span class="p">]</span>
<span class="n">df2</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;row0&#39;</span><span class="p">,</span><span class="s1">&#39;row1&#39;</span><span class="p">,</span><span class="s1">&#39;row2&#39;</span><span class="p">,</span><span class="s1">&#39;row3&#39;</span><span class="p">]</span>

<span class="n">df2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>hardness</th>
      <th>cleavage</th>
      <th>sp. gr.</th>
      <th>test</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>row0</th>
      <td>Garnet</td>
      <td>7.0</td>
      <td>Fracture</td>
      <td>3.9</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>row1</th>
      <td>Graphite</td>
      <td>1.5</td>
      <td>One</td>
      <td>2.3</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>row2</th>
      <td>Kyanite</td>
      <td>6</td>
      <td>One</td>
      <td>4.01</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>row3</th>
      <td>test</td>
      <td>bad</td>
      <td>@#$%^</td>
      <td>False</td>
      <td>asdf</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="concatenating-dataframes">
<h3>Concatenating <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code><a class="headerlink" href="#concatenating-dataframes" title="Permalink to this heading">#</a></h3>
<p>We can also concatenate <b><code>DataFrames</code></b> to each other, even if they are of different sizes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           name hardness sp. gr.  test  new_column  cleavage
0     Amphibole      5.5     2.8     A         NaN       NaN
1       Biotite     2.75     3.0   12j         NaN       NaN
2       Calcite      3.0    2.72  True         NaN       NaN
3      Dolomite      3.0    2.85     9         NaN       NaN
4     Feldspars      6.0   2.645  11.0         NaN       NaN
row0     Garnet      7.0     3.9   NaN         NaN  Fracture
row1   Graphite      1.5     2.3   NaN         NaN       One
row2    Kyanite        6    4.01   NaN         NaN       One
row3       test      bad   False  asdf         NaN     @#$%^
</pre></div>
</div>
</div>
</div>
<p>In the resulting table, we notice that <b><code>pandas</code></b> automatically added <b><code>NaN</code></b> <i>(“Not a Number”)</i> values to the missing entries of either table. Very convenient!</p>
</section>
<section id="removing-rows-and-columns">
<h3>Removing rows and columns<a class="headerlink" href="#removing-rows-and-columns" title="Permalink to this heading">#</a></h3>
<p>Our table looks a bit messy though… let’s make it better by removing the <i>’test’</i> row and column. We can drop them by using the <b><code>pd.drop()</code></b> function.  By default, the <b><code>pd.drop()</code></b> function outputs a copy of the inserted <b><code>DataFrame</code></b> without the dropped items. The original data will then be preserved if you give a new name to the dataframe (i.e., the copy) with dropped items.</p>
<p>Example of how you could use <code class="docutils literal notranslate"><span class="pre">pd.drop()</span></code> to remove a row or column. Note that we used that row’s index name and column’s index name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_df3</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;row3&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> 
<span class="n">new_df3</span> <span class="o">=</span> <span class="n">new_df3</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">new_df3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           name hardness sp. gr.  new_column  cleavage
0     Amphibole      5.5     2.8         NaN       NaN
1       Biotite     2.75     3.0         NaN       NaN
2       Calcite      3.0    2.72         NaN       NaN
3      Dolomite      3.0    2.85         NaN       NaN
4     Feldspars      6.0   2.645         NaN       NaN
row0     Garnet      7.0     3.9         NaN  Fracture
row1   Graphite      1.5     2.3         NaN       One
row2    Kyanite        6    4.01         NaN       One
</pre></div>
</div>
</div>
</div>
<p>Recall that <code class="docutils literal notranslate"><span class="pre">df3</span></code> is unchanged</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>hardness</th>
      <th>sp. gr.</th>
      <th>test</th>
      <th>new_column</th>
      <th>cleavage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Amphibole</td>
      <td>5.5</td>
      <td>2.8</td>
      <td>A</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Biotite</td>
      <td>2.75</td>
      <td>3.0</td>
      <td>12j</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Calcite</td>
      <td>3.0</td>
      <td>2.72</td>
      <td>True</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Dolomite</td>
      <td>3.0</td>
      <td>2.85</td>
      <td>9</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Feldspars</td>
      <td>6.0</td>
      <td>2.645</td>
      <td>11.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>row0</th>
      <td>Garnet</td>
      <td>7.0</td>
      <td>3.9</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Fracture</td>
    </tr>
    <tr>
      <th>row1</th>
      <td>Graphite</td>
      <td>1.5</td>
      <td>2.3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>One</td>
    </tr>
    <tr>
      <th>row2</th>
      <td>Kyanite</td>
      <td>6</td>
      <td>4.01</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>One</td>
    </tr>
    <tr>
      <th>row3</th>
      <td>test</td>
      <td>bad</td>
      <td>False</td>
      <td>asdf</td>
      <td>NaN</td>
      <td>@#$%^</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In case you would like to edit the original <b><code>df3</code></b>; you would apply the drop-operation <i>’inplace’</i>. For this, we use the <b><code>inplace=True</code></b> option. To avoid dropping rows and columns with the same index name, you could use the <b><code>pd.reset_index()</code></b> function. With <b><code>drop=True</code></b>, the new <b><code>DataFrame</code></b> will have dropped the old indexes; keeping the new reset ones.</p>
<p>Reset the index to the default integer index and drop the old indexes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="n">df3_cleaned</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>hardness</th>
      <th>sp. gr.</th>
      <th>test</th>
      <th>new_column</th>
      <th>cleavage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Amphibole</td>
      <td>5.5</td>
      <td>2.8</td>
      <td>A</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Biotite</td>
      <td>2.75</td>
      <td>3.0</td>
      <td>12j</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Calcite</td>
      <td>3.0</td>
      <td>2.72</td>
      <td>True</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Dolomite</td>
      <td>3.0</td>
      <td>2.85</td>
      <td>9</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Feldspars</td>
      <td>6.0</td>
      <td>2.645</td>
      <td>11.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Garnet</td>
      <td>7.0</td>
      <td>3.9</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Fracture</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Graphite</td>
      <td>1.5</td>
      <td>2.3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>One</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Kyanite</td>
      <td>6</td>
      <td>4.01</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>One</td>
    </tr>
    <tr>
      <th>8</th>
      <td>test</td>
      <td>bad</td>
      <td>False</td>
      <td>asdf</td>
      <td>NaN</td>
      <td>@#$%^</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now let’s drop row 8 and column ‘test’ (remember to add axis=1 when dropping a column).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df3_cleaned</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df3_cleaned</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>        name hardness sp. gr.  new_column  cleavage
0  Amphibole      5.5     2.8         NaN       NaN
1    Biotite     2.75     3.0         NaN       NaN
2    Calcite      3.0    2.72         NaN       NaN
3   Dolomite      3.0    2.85         NaN       NaN
4  Feldspars      6.0   2.645         NaN       NaN
5     Garnet      7.0     3.9         NaN  Fracture
6   Graphite      1.5     2.3         NaN       One
7    Kyanite        6    4.01         NaN       One
</pre></div>
</div>
</div>
</div>
<p>Note that if you try to re-run the above cell without re-running the previous one, you will get an error. This happens because after running the above cell once, you drop row ‘8’ and the ‘test’ column from <b><code>df3_cleaned</code></b>, trying to run again will attempt to re-drop something that doesn’t exist. Re-running the previous cell ‘fixes’ this issue since you re-assign <b><code>df3_cleaned</code></b> as <b><code>df3.reset_index(drop=True)</code></b>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If one or more rows (or columns) have the same index name, <code>pd.drop()</code> will drop all of them.</p>
</div>
</section>
<section id="accessing-and-modifying-code-dataframe-code-values">
<h3>Accessing and modifying <code>DataFrame</code> values<a class="headerlink" href="#accessing-and-modifying-code-dataframe-code-values" title="Permalink to this heading">#</a></h3>
<p>Now that we created our table, we want to be able to access and modify the individual values within it. This way we could add the missing values to the <i>’cleavage’</i> column. There are many ways to do this because <b><code>numpy</code></b> and standard Python functions are often still applicable on <b><code>pandas</code></b> data structures. However, there is a difference in processing speed. Therefore, when accessing or modifying data, try to use <b><code>pandas</code></b> functions, such as: <b><code>.iat()</code></b>, <b><code>.at()</code></b>, <b><code>.iloc()</code></b>, and <b><code>.loc()</code></b> instead of using the common <b><code>[]</code></b> square bracket syntax, as they might raise some warnings:</p>
<p>Note that the value still changed, but avoid doing so.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">cleavage</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;One&#39;</span> 
<span class="n">df3_cleaned</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\mmendozalugo\AppData\Local\Temp\ipykernel_21412\1163584331.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df3_cleaned.cleavage[1]=&#39;One&#39; # warning
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>hardness</th>
      <th>sp. gr.</th>
      <th>new_column</th>
      <th>cleavage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Amphibole</td>
      <td>5.5</td>
      <td>2.8</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Biotite</td>
      <td>2.75</td>
      <td>3.0</td>
      <td>NaN</td>
      <td>One</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Calcite</td>
      <td>3.0</td>
      <td>2.72</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Dolomite</td>
      <td>3.0</td>
      <td>2.85</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Feldspars</td>
      <td>6.0</td>
      <td>2.645</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Garnet</td>
      <td>7.0</td>
      <td>3.9</td>
      <td>NaN</td>
      <td>Fracture</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Graphite</td>
      <td>1.5</td>
      <td>2.3</td>
      <td>NaN</td>
      <td>One</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Kyanite</td>
      <td>6</td>
      <td>4.01</td>
      <td>NaN</td>
      <td>One</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="code-iat-code-vs-code-at-code-vs-code-iloc-code-vs-code-loc-code">
<h3><code>.iat()</code> vs <code>.at()</code> vs <code>.iloc()</code> vs <code>.loc()</code><a class="headerlink" href="#code-iat-code-vs-code-at-code-vs-code-iloc-code-vs-code-loc-code" title="Permalink to this heading">#</a></h3>
<p>In <a href = "https://stackoverflow.com/questions/28757389/pandas-loc-vs-iloc-vs-at-vs-iat">this discussion in stackoverflow</a>, they point out some differences between these methods. To keep in mind, <b><code>.iat()</code></b> and <b><code>.at()</code></b> are the fastest ones, but they only return scalars (one element), while <b><code>.loc()</code></b> and <b><code>.iloc()</code></b> can access several elements at the same time. Lastly, <b><code>.iat()</code></b> and <b><code>.iloc</code></b> use indexes (numbers), while <b><code>.at()</code></b> and <b><code>.loc()</code></b> use labels. For more information, check the stackoverflow discussion.</p>
<p>Acessing values using arrays as index with <code class="docutils literal notranslate"><span class="pre">.iloc()</span></code>, only method that allows arrays in both rows and cols.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">indx_array_row</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">indx_array_col</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>

<span class="n">df3_cleaned</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">indx_array_row</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span><span class="n">indx_array_col</span><span class="p">[:</span><span class="mi">3</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>hardness</th>
      <th>sp. gr.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Amphibole</td>
      <td>5.5</td>
      <td>2.8</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Biotite</td>
      <td>2.75</td>
      <td>3.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Accessing values with <code class="docutils literal notranslate"><span class="pre">.loc()</span></code>, only rows are allowed to be arrays</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indx_array_row</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span><span class="s1">&#39;hardness&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     5.5
1    2.75
Name: hardness, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Or multiple columns with <code class="docutils literal notranslate"><span class="pre">.loc()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indx_array_row</span><span class="p">[:</span><span class="mi">2</span><span class="p">],[</span><span class="s1">&#39;hardness&#39;</span><span class="p">,</span> <span class="s1">&#39;cleavage&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hardness</th>
      <th>cleavage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.75</td>
      <td>One</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Accessing values with <code class="docutils literal notranslate"><span class="pre">.at()</span></code>, no arrays allowed, only labels. Note that using 0 will work since we do not have labels for the rows so their labels are their index.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;hardness&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>If we were to change the index of this df to their names and delete column ‘name’…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df3_cleaned</span><span class="o">.</span><span class="n">name</span>
<span class="n">df3_cleaned</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hardness</th>
      <th>sp. gr.</th>
      <th>new_column</th>
      <th>cleavage</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Amphibole</th>
      <td>5.5</td>
      <td>2.8</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Biotite</th>
      <td>2.75</td>
      <td>3.0</td>
      <td>NaN</td>
      <td>One</td>
    </tr>
    <tr>
      <th>Calcite</th>
      <td>3.0</td>
      <td>2.72</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Dolomite</th>
      <td>3.0</td>
      <td>2.85</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Feldspars</th>
      <td>6.0</td>
      <td>2.645</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Garnet</th>
      <td>7.0</td>
      <td>3.9</td>
      <td>NaN</td>
      <td>Fracture</td>
    </tr>
    <tr>
      <th>Graphite</th>
      <td>1.5</td>
      <td>2.3</td>
      <td>NaN</td>
      <td>One</td>
    </tr>
    <tr>
      <th>Kyanite</th>
      <td>6</td>
      <td>4.01</td>
      <td>NaN</td>
      <td>One</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now using <code class="docutils literal notranslate"><span class="pre">df.at[0,'hardness']</span></code> doesn’t work since there’s no row with label 0.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;hardness&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\core\indexes\base.py:3629,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key, method, tolerance)</span>
<span class="g g-Whitespace">   </span><span class="mi">3628</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3629</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3630</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\_libs\index.pyx:136,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\_libs\index.pyx:163,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas\_libs\hashtable_class_helper.pxi:5198,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas\_libs\hashtable_class_helper.pxi:5206,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: 0

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">31</span><span class="p">],</span> <span class="n">line</span> <span class="mi">4</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># now using df.at[0,&#39;hardness&#39;] doesn&#39;t work since there&#39;s no row</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="c1"># with label 0</span>
<span class="ne">----&gt; </span><span class="mi">4</span> <span class="n">df3_cleaned</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;hardness&#39;</span><span class="p">]</span>

<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\core\indexing.py:2275,</span> in <span class="ni">_AtIndexer.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">2272</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid call for scalar access (getting)!&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2273</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
<span class="ne">-&gt; </span><span class="mi">2275</span> <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\core\indexing.py:2226,</span> in <span class="ni">_ScalarAccessIndexer.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">2223</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid call for scalar access (getting)!&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2225</span> <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">2226</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="o">*</span><span class="n">key</span><span class="p">,</span> <span class="n">takeable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_takeable</span><span class="p">)</span>

<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\core\frame.py:3622,</span> in <span class="ni">DataFrame._get_value</span><span class="nt">(self, index, col, takeable)</span>
<span class="g g-Whitespace">   </span><span class="mi">3616</span> <span class="n">engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">_engine</span>
<span class="g g-Whitespace">   </span><span class="mi">3618</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">MultiIndex</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3619</span>     <span class="c1"># CategoricalIndex: Trying to use the engine fastpath may give incorrect</span>
<span class="g g-Whitespace">   </span><span class="mi">3620</span>     <span class="c1">#  results if our categories are integers that dont match our codes</span>
<span class="g g-Whitespace">   </span><span class="mi">3621</span>     <span class="c1"># IntervalIndex: IntervalTree has no get_loc</span>
<span class="ne">-&gt; </span><span class="mi">3622</span>     <span class="n">row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3623</span>     <span class="k">return</span> <span class="n">series</span><span class="o">.</span><span class="n">_values</span><span class="p">[</span><span class="n">row</span><span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">3625</span> <span class="c1"># For MultiIndex going through engine effectively restricts us to</span>
<span class="g g-Whitespace">   </span><span class="mi">3626</span> <span class="c1">#  same-length tuples; see test_get_set_value_no_partial_indexing</span>

<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\core\indexes\base.py:3631,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key, method, tolerance)</span>
<span class="g g-Whitespace">   </span><span class="mi">3629</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3630</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3631</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3632</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3633</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3634</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3635</span>     <span class="c1">#  the TypeError.</span>
<span class="g g-Whitespace">   </span><span class="mi">3636</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_check_indexing_error</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: 0
</pre></div>
</div>
</div>
</div>
<p>Accessing values with <code class="docutils literal notranslate"><span class="pre">.iat()</span></code>, no arrays allowed, no labels allowed only indexes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nan
</pre></div>
</div>
</div>
</div>
<p>In case you want to know the index number of a column or row:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="s1">&#39;new_column&#39;</span><span class="p">))</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="s1">&#39;Dolomite&#39;</span><span class="p">))</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
3
</pre></div>
</div>
</div>
</div>
<p>Since the above lines return the index of a column and row you can use them directly with <code class="docutils literal notranslate"><span class="pre">.iat()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="n">df3_cleaned</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="s1">&#39;Dolomite&#39;</span><span class="p">),</span> <span class="n">df3_cleaned</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="s1">&#39;new_column&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nan
</pre></div>
</div>
</div>
</div>
<p>Selecting multiple columns:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span><span class="p">[[</span><span class="s1">&#39;hardness&#39;</span><span class="p">,</span><span class="s1">&#39;new_column&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hardness</th>
      <th>new_column</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Amphibole</th>
      <td>5.5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Biotite</th>
      <td>2.75</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Calcite</th>
      <td>3.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Dolomite</th>
      <td>3.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Feldspars</th>
      <td>6.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Garnet</th>
      <td>7.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Graphite</th>
      <td>1.5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Kyanite</th>
      <td>6</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Finally, removing a column by making a copy and re-assigning the original variable as its copy. (Alternative to <b><code>inplace=True</code></b>)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3_cleaned</span> <span class="o">=</span> <span class="n">df3_cleaned</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;new_column&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df3_cleaned</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hardness</th>
      <th>sp. gr.</th>
      <th>cleavage</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Amphibole</th>
      <td>5.5</td>
      <td>2.8</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Biotite</th>
      <td>2.75</td>
      <td>3.0</td>
      <td>One</td>
    </tr>
    <tr>
      <th>Calcite</th>
      <td>3.0</td>
      <td>2.72</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Dolomite</th>
      <td>3.0</td>
      <td>2.85</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Feldspars</th>
      <td>6.0</td>
      <td>2.645</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Garnet</th>
      <td>7.0</td>
      <td>3.9</td>
      <td>Fracture</td>
    </tr>
    <tr>
      <th>Graphite</th>
      <td>1.5</td>
      <td>2.3</td>
      <td>One</td>
    </tr>
    <tr>
      <th>Kyanite</th>
      <td>6</td>
      <td>4.01</td>
      <td>One</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="importing-data-into-code-dataframes-code-and-exploring-its-attributes">
<h2>6.4 Importing data into <code>DataFrames</code> and exploring its attributes<a class="headerlink" href="#importing-data-into-code-dataframes-code-and-exploring-its-attributes" title="Permalink to this heading">#</a></h2>
<p><b><code>pandas</code></b> provides many functions to import data into <b><code>dataframes</code></b>, such as <b><code>read_csv()</code></b> to read delimited text files, or <b><code>read_excel()</code></b> for Excel or OpenDocument spreadsheets. <b><code>read_csv()</code></b> provides options that allow you to filter the data, such as specifying the separator/delimiter, the lines that form the headers, which rows to skip, etc. Let’s analyze the <b><code>mineral_properties.txt</code></b>. Below a screenshot of it:<br><br></p>
<p><img alt="image.png" src="https://raw.githubusercontent.com/mike-mendoza/Bivariate_NPBN_workshop_files/main/files_pyhton_book_test/06_01.png" /></p>
<p>below we import the <code class="docutils literal notranslate"><span class="pre">.txt</span></code>:</p>
<ul class="simple">
<li><p>we indicate that the separator is the comma <code class="docutils literal notranslate"><span class="pre">&quot;sep=','&quot;</span></code></p></li>
<li><p>we indicate the header (what should be the columns names) is in the second line <code class="docutils literal notranslate"><span class="pre">&quot;header=[1]&quot;</span></code></p></li>
<li><p>we indicate to not skip any rows <code class="docutils literal notranslate"><span class="pre">&quot;skiprows=None&quot;</span></code></p></li>
<li><p>we indicate the first column should be the index of the rows <code class="docutils literal notranslate"><span class="pre">&quot;index_col=0&quot;</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">file_location</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/TUDelft-CITG/&quot;</span>
                <span class="s2">&quot;learn-python/mike/book/06/Theory/&quot;</span><span class="p">)</span>
<span class="n">df4</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_location</span> <span class="o">+</span> <span class="s1">&#39;mineral_properties.txt&#39;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> 
                  <span class="n">skiprows</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hardness</th>
      <th>sp. gr.</th>
      <th>cleavage</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Amphibole</th>
      <td>5.50</td>
      <td>2.800</td>
      <td>Two</td>
    </tr>
    <tr>
      <th>Biotite</th>
      <td>2.75</td>
      <td>3.000</td>
      <td>One</td>
    </tr>
    <tr>
      <th>Calcite</th>
      <td>3.00</td>
      <td>2.720</td>
      <td>Three</td>
    </tr>
    <tr>
      <th>Dolomite</th>
      <td>3.00</td>
      <td>2.850</td>
      <td>Three</td>
    </tr>
    <tr>
      <th>Feldspars</th>
      <td>6.00</td>
      <td>2.645</td>
      <td>Two</td>
    </tr>
    <tr>
      <th>Garnet</th>
      <td>7.00</td>
      <td>3.900</td>
      <td>Fracture</td>
    </tr>
    <tr>
      <th>Graphite</th>
      <td>1.50</td>
      <td>2.300</td>
      <td>One</td>
    </tr>
    <tr>
      <th>Kyanite</th>
      <td>6.00</td>
      <td>4.010</td>
      <td>One</td>
    </tr>
    <tr>
      <th>Muscovite</th>
      <td>2.25</td>
      <td>2.930</td>
      <td>One</td>
    </tr>
    <tr>
      <th>Pyroxene</th>
      <td>5.50</td>
      <td>3.325</td>
      <td>Two</td>
    </tr>
    <tr>
      <th>Quartz</th>
      <td>7.00</td>
      <td>2.650</td>
      <td>Fracture</td>
    </tr>
    <tr>
      <th>Sillimanite</th>
      <td>6.50</td>
      <td>3.230</td>
      <td>One</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Note that if we try to call any of the columns from <code class="docutils literal notranslate"><span class="pre">df4</span></code> we will get an error.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df4</span><span class="p">[</span><span class="s1">&#39;hardness&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\core\indexes\base.py:3629,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key, method, tolerance)</span>
<span class="g g-Whitespace">   </span><span class="mi">3628</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3629</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3630</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\_libs\index.pyx:136,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\_libs\index.pyx:163,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas\_libs\hashtable_class_helper.pxi:5198,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas\_libs\hashtable_class_helper.pxi:5206,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: &#39;hardness&#39;

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">df4</span><span class="p">[</span><span class="s1">&#39;hardness&#39;</span><span class="p">]</span>

<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\core\frame.py:3505,</span> in <span class="ni">DataFrame.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3503</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">nlevels</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3504</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_multilevel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3505</span> <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3506</span> <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3507</span>     <span class="n">indexer</span> <span class="o">=</span> <span class="p">[</span><span class="n">indexer</span><span class="p">]</span>

<span class="nn">File c:\ProgramData\Anaconda3\lib\site-packages\pandas\core\indexes\base.py:3631,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key, method, tolerance)</span>
<span class="g g-Whitespace">   </span><span class="mi">3629</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3630</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3631</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3632</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3633</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3634</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3635</span>     <span class="c1">#  the TypeError.</span>
<span class="g g-Whitespace">   </span><span class="mi">3636</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_check_indexing_error</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: &#39;hardness&#39;
</pre></div>
</div>
</div>
</div>
<p>Do you know why?</p>
<p><b>Answer</b> …</p>
<p>In case you were not able to answer the above question, let’s look into <b><code>df4.columns</code></b></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df4</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39; hardness&#39;, &#39; sp. gr.&#39;, &#39; cleavage&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>You see there are spaces at the beginning of each column name… this happens because that’s how people usually type, with commas followed by a space. We could use the <b><code>skipinitialspace = True</code></b> from the <b><code>pd.read_csv()</code></b> function to avoid this. Let’s try it out:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df4</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_location</span> <span class="o">+</span> <span class="s1">&#39;mineral_properties.txt&#39;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> 
                  <span class="n">skiprows</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">skipinitialspace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df4</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;hardness&#39;, &#39;sp. gr.&#39;, &#39;cleavage&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Ok, much better!</p>
</section>
<section id="statistics-with-code-pandas-code">
<h2>6.5 Statistics with <code>pandas</code><a class="headerlink" href="#statistics-with-code-pandas-code" title="Permalink to this heading">#</a></h2>
<p>Recall some functions such as <code>np.mean()</code> and <code>np.max()</code>; these functions can be used to calculate a row’s or column’s statistics. Say you want to know what’s the average <i>hardness</i> of the different minerals:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df4</span><span class="p">[</span><span class="s1">&#39;hardness&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.666666666666667
</pre></div>
</div>
</div>
</div>
<p>Often we don’t know much about the data, and printing all the values is inconvenient. In that case, it’s wise to take a look at some of its attributes first.</p>
<p>See the labels of the columns and rows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df4</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----------------------&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df4</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;hardness&#39;, &#39;sp. gr.&#39;, &#39;cleavage&#39;], dtype=&#39;object&#39;)
----------------------
Index([&#39;Amphibole&#39;, &#39;Biotite&#39;, &#39;Calcite&#39;, &#39;Dolomite&#39;, &#39;Feldspars&#39;, &#39;Garnet&#39;,
       &#39;Graphite&#39;, &#39;Kyanite&#39;, &#39;Muscovite&#39;, &#39;Pyroxene&#39;, &#39;Quartz&#39;,
       &#39;Sillimanite&#39;],
      dtype=&#39;object&#39;, name=&#39;name&#39;)
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">df4.info</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">print(df4.info)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df4</span><span class="o">.</span><span class="n">info</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;bound method DataFrame.info of              hardness  sp. gr.  cleavage
name                                    
Amphibole        5.50    2.800       Two
Biotite          2.75    3.000       One
Calcite          3.00    2.720     Three
Dolomite         3.00    2.850     Three
Feldspars        6.00    2.645       Two
Garnet           7.00    3.900  Fracture
Graphite         1.50    2.300       One
Kyanite          6.00    4.010       One
Muscovite        2.25    2.930       One
Pyroxene         5.50    3.325       Two
Quartz           7.00    2.650  Fracture
Sillimanite      6.50    3.230       One&gt;
</pre></div>
</div>
</div>
</div>
<section id="deep-copying-a-code-dataframe-code">
<h3>Deep copying a <code>DataFrame</code><a class="headerlink" href="#deep-copying-a-code-dataframe-code" title="Permalink to this heading">#</a></h3>
<p>As you have seen in Notebook 4, shallow copies can be troublesome if you’re not aware of it. In <b><code>pandas</code></b>, it’s the same story.<br><br>To make a deep copy use the <b><code>DataFrame.copy(deep=True)</code></b> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_deep</span> <span class="o">=</span> <span class="n">df4</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now, altering <b><code>df_deep</code></b> will not alter <b><code>df4</code></b>; and vice-versa.</p>
</section>
</section>
<section id="additional-study-material">
<h2>Additional study material:<a class="headerlink" href="#additional-study-material" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series">Official pandas Documentation (Series)</a></p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame">Official pandas Documentation (DataFrame)</a></p></li>
<li><p><a class="reference external" href="https://ggbaker.ca/732/content/pandas-speed.html">Note on processing speed</a></p></li>
<li><p><a class="reference external" href="https://realpython.com/pandas-python-explore-dataset/">Real Python</a></p></li>
</ul>
<h4>After this Notebook you should be able to:</h4>
<ul class="simple">
<li><p>understand <b><code>Series</code></b> and <b><code>DataFrames</code></b></p></li>
<li><p>concatenate <b><code>DataFrames</code></b></p></li>
<li><p>work with different labels of a <b><code>DataFrame</code></b></p></li>
<li><p>drop unwanted rows and columns</p></li>
<li><p>access and modify values within your <b><code>DataFrame</code></b></p></li>
<li><p>import data into a <b><code>pandas DataFrame</code></b></p></li>
<li><p>manipulate a <b><code>DataFrame</code></b> in several important ways</p></li>
</ul>
</section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./06/Theory"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../../05/Exercises/bug_report.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Bug Report Issue Form (optional)</p>
      </div>
    </a>
    <a class="right-next"
       href="../Exercises/01.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Exercises</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">6.1 Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#series">6.2 <code class="docutils literal notranslate"><span class="pre">Series</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#labeling-series">Labeling <code class="docutils literal notranslate"><span class="pre">Series</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dataframe">6.3 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#labeling-dataframes">Labeling <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#concatenating-dataframes">Concatenating <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#removing-rows-and-columns">Removing rows and columns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-and-modifying-code-dataframe-code-values">Accessing and modifying <code>DataFrame</code> values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#code-iat-code-vs-code-at-code-vs-code-iloc-code-vs-code-loc-code"><code>.iat()</code> vs <code>.at()</code> vs <code>.iloc()</code> vs <code>.loc()</code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importing-data-into-code-dataframes-code-and-exploring-its-attributes">6.4 Importing data into <code>DataFrames</code> and exploring its attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#statistics-with-code-pandas-code">6.5 Statistics with <code>pandas</code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deep-copying-a-code-dataframe-code">Deep copying a <code>DataFrame</code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-study-material">Additional study material:</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By R. Lanzafame, S. Verhagen, M. Mendoza Lugo, A. Farahat
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>